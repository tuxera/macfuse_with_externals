<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>GMUserFileSystem </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="HeaderDoc">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}body {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10pt;}--></style>
</head>
<body bgcolor="#ffffff">
<a name="top"></a><a name="//apple_ref/doc/class/GMUserFileSystem" title="GMUserFileSystem "></a><hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h1><a name="GMUserFileSystem">GMUserFileSystem </a></h1>
</td></tr></table>
<hr>
<p><b>Superclass:</b> <!-- a logicalPath="//apple_ref/occ/cl/NSObject" -->NSObject<!-- /a --><br><b>Declared In:</b> <a href="../../index.html" target="_top">GMUserFileSystem</a><br></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<p><!-- begin discussion --> This class controls the life cycle of a user space file system.
The GMUserFileSystem is typically instantiated with a delegate that will 
serve file system operations. The delegate needs to implement some or all of 
the methods in the GMUserFileSystemOperations informal protocol. It may also
implement methods from the GMUserFileSystemLifecycle and 
GMUserFileSystemResourceForks protocols as necessary.<br><br>
After instantiating a GMUserFileSystem with an appropriate delegate, call
mountAtPath:withOptions: to mount the file system. A call to unmount or an
external umount operation will unmount the file system. If the delegate 
implements methods from the GMUserFileSystemLifecycle informal protocol then
these will be called just before mount and unmount. In addition, the 
GMUserFileSystem class will post mount and unmount notifications to the
default notification center. Since the underlying GMUserFileSystem 
implementation is multi-threaded, you should assume that notifications will 
not be posted on the main thread. The object will always be the 
GMUserFileSystem* and the userInfo will always contain at least the 
kGMUserFileSystemMountPathkey.<br><br>
The best way to get started with GMUserFileSystem is to look at some example
file systems that use MacFUSE.framework. See the example file systems found
<a href="http://macfuse.googlecode.com/svn/trunk/filesystems-objc/" target="_top">here</a>.
 <!-- end discussion --></p>
<p></p>
<hr>
<br><h2>Methods</h2>
<a name="HeaderDoc_methods"></a><dl>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/initWithDelegate:isThreadSafe:" target="_top">-initWithDelegate:isThreadSafe: </a></tt></dt>
<dd>Initialize the user space file system.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/setDelegate:" target="_top">-setDelegate:</a></tt></dt>
<dd>Set the file system delegate.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/delegate" target="_top">-delegate</a></tt></dt>
<dd>Get the file system delegate.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:" target="_top">-mountAtPath:withOptions: </a></tt></dt>
<dd>Mount the file system at the given path.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:shouldForeground:detachNewThread:" target="_top">-mountAtPath:withOptions:shouldForeground:detachNewThread: </a></tt></dt>
<dd>Mount the file system at the given path with advanced options.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/unmount" target="_top">-unmount </a></tt></dt>
<dd>Unmount the file system.
</dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/initWithDelegate:isThreadSafe:;  name=GMUserFileSystem::initWithDelegate:isThreadSafe: --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/initWithDelegate:isThreadSafe:"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="initWithDelegate:isThreadSafe:">initWithDelegate:isThreadSafe: </a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Initialize the user space file system.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/id //apple_ref/occ/tdef/id //apple_ref/occ/tag/id //apple_ref/occ/econst/id //apple_ref/occ/struct/id //apple_ref/occ/clconst/id //apple_ref/occ/intf/id" --><span class="type">id</span><!-- /a -->)<!-- a logicalPath="//apple_ref/occ/instm/initWithDelegate //apple_ref/occ/clm/initWithDelegate //apple_ref/occ/intfcm/initWithDelegate //apple_ref/occ/intfm/initWithDelegate //apple_ref/occ/func/initWithDelegate //apple_ref/occ/ftmplt/initWithDelegate //apple_ref/occ/defn/initWithDelegate //apple_ref/occ/macro/initWithDelegate" --><span class="function">initWithDelegate</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/id //apple_ref/occ/tdef/id //apple_ref/occ/tag/id //apple_ref/occ/econst/id //apple_ref/occ/struct/id //apple_ref/occ/clconst/id //apple_ref/occ/intf/id" --><span class="type">id</span><!-- /a -->)<span class="param">delegate</span> <!-- a logicalPath="//apple_ref/occ/instm/isThreadSafe //apple_ref/occ/clm/isThreadSafe //apple_ref/occ/intfcm/isThreadSafe //apple_ref/occ/intfm/isThreadSafe //apple_ref/occ/func/isThreadSafe //apple_ref/occ/ftmplt/isThreadSafe //apple_ref/occ/defn/isThreadSafe //apple_ref/occ/macro/isThreadSafe" --><span class="function">isThreadSafe</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/BOOL //apple_ref/occ/tdef/BOOL //apple_ref/occ/tag/BOOL //apple_ref/occ/econst/BOOL //apple_ref/occ/struct/BOOL //apple_ref/occ/clconst/BOOL //apple_ref/occ/intf/BOOL" --><span class="type">BOOL</span><!-- /a -->)<span class="var">isThreadSafe</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>delegate </code></dt>
<dd>The file system delegate; implements the file system logic.</dd>
<dt><code>isThreadSafe </code></dt>
<dd>Is the file system delegate thread safe?</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A GMUserFileSystem instance.
 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<p><!-- begin discussion -->The file system delegate should implement some or all of the
GMUserFileSystemOperations informal protocol. You should only specify YES
for isThreadSafe if your file system delegate is thread safe with respect to
file system operations. That implies that it implements proper file system
locking so that multiple operations on the same file can be done safely.
<!-- end discussion --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/setDelegate:;  name=GMUserFileSystem::setDelegate: --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/setDelegate:"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="setDelegate:">setDelegate:</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Set the file system delegate.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/econst/void //apple_ref/occ/struct/void //apple_ref/occ/clconst/void //apple_ref/occ/intf/void" --><span class="type">void</span><!-- /a -->)<!-- a logicalPath="//apple_ref/occ/instm/setDelegate //apple_ref/occ/clm/setDelegate //apple_ref/occ/intfcm/setDelegate //apple_ref/occ/intfm/setDelegate //apple_ref/occ/func/setDelegate //apple_ref/occ/ftmplt/setDelegate //apple_ref/occ/defn/setDelegate //apple_ref/occ/macro/setDelegate" --><span class="function">setDelegate</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/id //apple_ref/occ/tdef/id //apple_ref/occ/tag/id //apple_ref/occ/econst/id //apple_ref/occ/struct/id //apple_ref/occ/clconst/id //apple_ref/occ/intf/id" --><span class="type">id</span><!-- /a -->)<span class="var">delegate</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>delegate </code></dt>
<dd>The delegate to use from now on for this file system.</dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/delegate;  name=GMUserFileSystem::delegate --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/delegate"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="delegate">delegate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Get the file system delegate.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/id //apple_ref/occ/tdef/id //apple_ref/occ/tag/id //apple_ref/occ/econst/id //apple_ref/occ/struct/id //apple_ref/occ/clconst/id //apple_ref/occ/intf/id" --><span class="type">id</span><!-- /a -->)<span class="var">delegate</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The file system delegate.
 
<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:;  name=GMUserFileSystem::mountAtPath:withOptions: --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="mountAtPath:withOptions:">mountAtPath:withOptions: </a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Mount the file system at the given path.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/econst/void //apple_ref/occ/struct/void //apple_ref/occ/clconst/void //apple_ref/occ/intf/void" --><span class="type">void</span><!-- /a -->)<!-- a logicalPath="//apple_ref/occ/instm/mountAtPath //apple_ref/occ/clm/mountAtPath //apple_ref/occ/intfcm/mountAtPath //apple_ref/occ/intfm/mountAtPath //apple_ref/occ/func/mountAtPath //apple_ref/occ/ftmplt/mountAtPath //apple_ref/occ/defn/mountAtPath //apple_ref/occ/macro/mountAtPath" --><span class="function">mountAtPath</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/econst/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/clconst/NSString //apple_ref/occ/intf/NSString" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<span class="param">mountPath</span> <!-- a logicalPath="//apple_ref/occ/instm/withOptions //apple_ref/occ/clm/withOptions //apple_ref/occ/intfcm/withOptions //apple_ref/occ/intfm/withOptions //apple_ref/occ/func/withOptions //apple_ref/occ/ftmplt/withOptions //apple_ref/occ/defn/withOptions //apple_ref/occ/macro/withOptions" --><span class="function">withOptions</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/NSArray //apple_ref/occ/tdef/NSArray //apple_ref/occ/tag/NSArray //apple_ref/occ/econst/NSArray //apple_ref/occ/struct/NSArray //apple_ref/occ/clconst/NSArray //apple_ref/occ/intf/NSArray" --><span class="type">NSArray</span><!-- /a --> <span class="type">*</span>)<span class="var">options</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mountPath </code></dt>
<dd>The path to mount on, e.g. /Volumes/MyFileSystem</dd>
<dt><code>options </code></dt>
<dd>The set of mount time options to use.</dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<p><!-- begin discussion -->Mounts the file system at mountPath with the given set of options.
The set of available options can be found on the 
<a href="http://code.google.com/p/macfuse/wiki/OPTIONS" target="_top">options</a> wiki page.
For example, to turn on debug output add @"debug" to the options NSArray.
If the mount succeeds, then a kGMUserFileSystemDidMount notification is posted
to the default noification center. If the mount fails, then a 
kGMUserFileSystemMountFailed notification will be posted instead.
<!-- end discussion --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:shouldForeground:detachNewThread:;  name=GMUserFileSystem::mountAtPath:withOptions:shouldForeground:detachNewThread: --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/mountAtPath:withOptions:shouldForeground:detachNewThread:"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="mountAtPath:withOptions:shouldForeground:detachNewThread:">mountAtPath:withOptions:shouldForeground:detachNewThread: </a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Mount the file system at the given path with advanced options.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/econst/void //apple_ref/occ/struct/void //apple_ref/occ/clconst/void //apple_ref/occ/intf/void" --><span class="type">void</span><!-- /a -->)<!-- a logicalPath="//apple_ref/occ/instm/mountAtPath //apple_ref/occ/clm/mountAtPath //apple_ref/occ/intfcm/mountAtPath //apple_ref/occ/intfm/mountAtPath //apple_ref/occ/func/mountAtPath //apple_ref/occ/ftmplt/mountAtPath //apple_ref/occ/defn/mountAtPath //apple_ref/occ/macro/mountAtPath" --><span class="function">mountAtPath</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/NSString //apple_ref/occ/tdef/NSString //apple_ref/occ/tag/NSString //apple_ref/occ/econst/NSString //apple_ref/occ/struct/NSString //apple_ref/occ/clconst/NSString //apple_ref/occ/intf/NSString" --><span class="type">NSString</span><!-- /a --> <span class="type">*</span>)<span class="param">mountPath</span> <!-- a logicalPath="//apple_ref/occ/instm/withOptions //apple_ref/occ/clm/withOptions //apple_ref/occ/intfcm/withOptions //apple_ref/occ/intfm/withOptions //apple_ref/occ/func/withOptions //apple_ref/occ/ftmplt/withOptions //apple_ref/occ/defn/withOptions //apple_ref/occ/macro/withOptions" --><span class="function">withOptions</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/NSArray //apple_ref/occ/tdef/NSArray //apple_ref/occ/tag/NSArray //apple_ref/occ/econst/NSArray //apple_ref/occ/struct/NSArray //apple_ref/occ/clconst/NSArray //apple_ref/occ/intf/NSArray" --><span class="type">NSArray</span><!-- /a --> <span class="type">*</span>)<span class="param">options</span> <!-- a logicalPath="//apple_ref/occ/instm/shouldForeground //apple_ref/occ/clm/shouldForeground //apple_ref/occ/intfcm/shouldForeground //apple_ref/occ/intfm/shouldForeground //apple_ref/occ/func/shouldForeground //apple_ref/occ/ftmplt/shouldForeground //apple_ref/occ/defn/shouldForeground //apple_ref/occ/macro/shouldForeground" --><span class="function">shouldForeground</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/BOOL //apple_ref/occ/tdef/BOOL //apple_ref/occ/tag/BOOL //apple_ref/occ/econst/BOOL //apple_ref/occ/struct/BOOL //apple_ref/occ/clconst/BOOL //apple_ref/occ/intf/BOOL" --><span class="type">BOOL</span><!-- /a -->)<span class="param">shouldForeground</span> <span class="comment">// Recommend: YES</span> <!-- a logicalPath="//apple_ref/occ/instm/detachNewThread //apple_ref/occ/clm/detachNewThread //apple_ref/occ/intfcm/detachNewThread //apple_ref/occ/intfm/detachNewThread //apple_ref/occ/func/detachNewThread //apple_ref/occ/ftmplt/detachNewThread //apple_ref/occ/defn/detachNewThread //apple_ref/occ/macro/detachNewThread" --><span class="function">detachNewThread</span><!-- /a -->:(<!-- a logicalPath="//apple_ref/occ/cl/BOOL //apple_ref/occ/tdef/BOOL //apple_ref/occ/tag/BOOL //apple_ref/occ/econst/BOOL //apple_ref/occ/struct/BOOL //apple_ref/occ/clconst/BOOL //apple_ref/occ/intf/BOOL" --><span class="type">BOOL</span><!-- /a -->)<span class="var">detachNewThread</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mountPath </code></dt>
<dd>The path to mount on, e.g. /Volumes/MyFileSystem</dd>
<dt><code>options </code></dt>
<dd>The set of mount time options to use.</dd>
<dt><code>shouldForeground </code></dt>
<dd>Should the file system thread remain foreground rather 
than daemonize? (Recommend: YES)</dd>
<dt><code>detachNewThread </code></dt>
<dd>Should the file system run in a new thread rather than
the current one? (Recommend: YES)</dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<p><!-- begin discussion -->Mounts the file system at mountPath with the given set of options.
This is an advanced version of <a href="../../../../Documentation/GMUserFileSystem/Classes/GMUserFileSystem_/index.html?Methods/Methods.html#//apple_ref/occ/instm/GMUserFileSystem/mountAtPath:withOptions:" logicalPath="//apple_ref/occ/instm/GMUserFileSystem/mountAtPath:withOptions:" target="_top">mountAtPath:withOptions </a>
You can use this to mount from a command-line program as follows:</p>
<ul>
<li>For an app, use: shouldForeground=YES, detachNewThread=YES
</li>
<li>For a daemon: shouldForeground=NO, detachNewThread=NO
</li>
<li>For debug output: shouldForeground=YES, detachNewThread=NO
</li>
<li>For a daemon+runloop: shouldForeground=NO, detachNewThread=YES<br>
- NOTE: I've never tried daemon+runloop; maybe it doesn't make sense</li>
</ul>
<!-- end discussion --><p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/unmount;  name=GMUserFileSystem::unmount --><a name="//apple_ref/doc/compositePage/occ/instm/GMUserFileSystem/unmount"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h3><a name="unmount">unmount </a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract -->Unmount the file system.
<!-- end abstract --></p>
<p></p>
<pre>- (<!-- a logicalPath="//apple_ref/occ/cl/void //apple_ref/occ/tdef/void //apple_ref/occ/tag/void //apple_ref/occ/econst/void //apple_ref/occ/struct/void //apple_ref/occ/clconst/void //apple_ref/occ/intf/void" --><span class="type">void</span><!-- /a -->)<span class="var">unmount</span>; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<p><!-- begin discussion -->Unmounts the file system. The kGMUserFileSystemDidUnmount
notification will be posted.
 <!-- end discussion --></p>
<p></p>
<p>Last Updated: Monday, November 17, 2008
</p>
</body>
</html>
